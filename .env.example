# =============================================================================
# Fern Environment Variables
#
# This file documents every env var Fern reads. In production, these are
# managed by Doppler (doppler run injects them at process start).
# For local dev, copy this to .env and fill in values.
# =============================================================================

# --- Required ---

OPENAI_API_KEY=sk-...

# --- Twilio / WhatsApp ---

TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_FROM=whatsapp:+1234567890

# --- GitHub App ---

GITHUB_APP_ID=123456
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"
GITHUB_APP_INSTALLATION_ID=12345678
GITHUB_WEBHOOK_SECRET=

# --- Security ---

FERN_API_SECRET=                           # Shared secret for /internal/* routes (optional in dev)
FERN_WEBHOOK_URL=                          # Public URL for Twilio signature verification (e.g. https://abc.ngrok.io)

# --- Alerts ---

FERN_ALERT_PHONE=+15551234567             # WhatsApp number for failure alerts

# --- Model (optional, defaults shown) ---

# FERN_MODEL_PROVIDER=openai
# FERN_MODEL=gpt-4o-mini
# FERN_MODEL_BASE_URL=
# MOONSHOT_API_KEY=

# --- Server (optional, defaults shown) ---

# FERN_PORT=4000

# --- Memory (optional, defaults shown) ---

# FERN_MEMORY_ENABLED=true
# FERN_MEMORY_PATH=~/.fern/memory
# FERN_MEMORY_CHUNK_TOKENS=25000
# FERN_MEMORY_MODEL=gpt-4o-mini
# FERN_MEMORY_EMBEDDING_MODEL=text-embedding-3-small
# FERN_MEMORY_BASE_URL=

# --- Scheduler (optional, defaults shown) ---

# FERN_SCHEDULER_ENABLED=true
# FERN_SCHEDULER_POLL_INTERVAL_MS=60000
# FERN_SCHEDULER_MAX_CONCURRENT=3

# --- Watchdog (optional, defaults shown) ---

# FERN_WATCHDOG_MAX_OPENCODE_FAILURES=5
# FERN_WATCHDOG_MAX_SCHEDULER_FAILURES=10

# --- Misc (optional) ---

# FERN_STORAGE_PATH=~/.fern/sessions
# FERN_DEPLOY_STATE_PATH=~/.fern/deploy-state.json
# FERN_AGENT_TURN_TIMEOUT_MS=480000
# WORKSPACE_BASE_PATH=
